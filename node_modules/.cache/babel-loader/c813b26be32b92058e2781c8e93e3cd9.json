{"ast":null,"code":"import _slicedToArray from \"/Users/tom/Desktop/react-position-sizer/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tom/Desktop/react-position-sizer/src/App.js\";\nimport './App.css';\nimport React, { useReducer, useEffect } from 'react';\nimport moment from \"moment\";\n\nconst _useReducer = useReducer(reducer, []),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      order = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\nReact.useLayoutEffect(() => {\n  const ws = new WebSocket(\"wss://api.bitfinex.com/ws\");\n\n  ws.onopen = function () {\n    ws.send(JSON.stringify({\n      event: \"subscribe\",\n      channel: \"trades\",\n      pair: \"tBTCUSD\"\n    }));\n  };\n\n  ws.onmessage = function (msg) {\n    var response = JSON.parse(msg.data);\n    var isAnOrder = response[1] === \"tu\";\n\n    if (isAnOrder) {\n      const time = moment().format(\"hh:mm:ss\");\n      const price = response[5].toFixed(0);\n      const amount = response[6].toFixed(5);\n      const order = {\n        time,\n        price,\n        amount\n      };\n      dispatch({\n        type: \"ADD_ORDER\",\n        payload: order\n      });\n    }\n  };\n}, []);\n\nfunction reducer(state, action) {\n  return [...state, action.payload];\n}\n\nfunction App() {\n  return React.createElement(\"div\", {\n    className: \"order-alert-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"orderbook\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"titling\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \" Bitfinex BTC order book\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Time \"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Amount\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, order.map(({\n    time,\n    price,\n    amount\n  }, i) => React.createElement(\"tr\", {\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \" \", time, \" \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, price), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, amount)))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tom/Desktop/react-position-sizer/src/App.js"],"names":["React","useReducer","useEffect","moment","reducer","order","dispatch","useLayoutEffect","ws","WebSocket","onopen","send","JSON","stringify","event","channel","pair","onmessage","msg","response","parse","data","isAnOrder","time","format","price","toFixed","amount","type","payload","state","action","App","map","i"],"mappings":";;AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,QAAnB;;oBAG0BF,UAAU,CAACG,OAAD,EAAU,EAAV,C;;MAA7BC,K;MAAOC,Q;;AAEdN,KAAK,CAACO,eAAN,CAAsB,MAAM;AAC1B,QAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAc,2BAAd,CAAX;;AAEAD,EAAAA,EAAE,CAACE,MAAH,GAAY,YAAY;AACtBF,IAAAA,EAAE,CAACG,IAAH,CACEC,IAAI,CAACC,SAAL,CAAe;AACbC,MAAAA,KAAK,EAAE,WADM;AAEbC,MAAAA,OAAO,EAAE,QAFI;AAGbC,MAAAA,IAAI,EAAE;AAHO,KAAf,CADF;AAOD,GARD;;AAUAR,EAAAA,EAAE,CAACS,SAAH,GAAe,UAAUC,GAAV,EAAe;AAC5B,QAAIC,QAAQ,GAAGP,IAAI,CAACQ,KAAL,CAAWF,GAAG,CAACG,IAAf,CAAf;AACA,QAAIC,SAAS,GAAGH,QAAQ,CAAC,CAAD,CAAR,KAAgB,IAAhC;;AAEA,QAAIG,SAAJ,EAAe;AACb,YAAMC,IAAI,GAAGpB,MAAM,GAAGqB,MAAT,CAAgB,UAAhB,CAAb;AACA,YAAMC,KAAK,GAAGN,QAAQ,CAAC,CAAD,CAAR,CAAYO,OAAZ,CAAoB,CAApB,CAAd;AACA,YAAMC,MAAM,GAAGR,QAAQ,CAAC,CAAD,CAAR,CAAYO,OAAZ,CAAoB,CAApB,CAAf;AACA,YAAMrB,KAAK,GAAG;AAAEkB,QAAAA,IAAF;AAAQE,QAAAA,KAAR;AAAeE,QAAAA;AAAf,OAAd;AACArB,MAAAA,QAAQ,CAAC;AAAEsB,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAExB;AAA9B,OAAD,CAAR;AACD;AAEF,GAZD;AAaD,CA1BD,EA0BG,EA1BH;;AA4BA,SAASD,OAAT,CAAiB0B,KAAjB,EAAwBC,MAAxB,EAAgC;AAE9B,SAAO,CAAC,GAAGD,KAAJ,EAAWC,MAAM,CAACF,OAAlB,CAAP;AAED;;AAED,SAASG,GAAT,GAAe;AAEb,SAGF;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3B,KAAK,CAAC4B,GAAN,CAAU,CAAC;AAAEV,IAAAA,IAAF;AAAQE,IAAAA,KAAR;AAAeE,IAAAA;AAAf,GAAD,EAA0BO,CAA1B,KACT;AAAK,IAAA,GAAG,EAAEA,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAMX,IAAN,MADF,EACmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKE,KAAL,CADnB,EACmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKE,MAAL,CADnC,CADD,CADH,CARF,CAFF,CAFA,CAHE;AA4BD;;AAED,eAAeK,GAAf","sourcesContent":["import './App.css';\nimport React, {useReducer, useEffect} from 'react'\nimport moment from \"moment\"\n\n\nconst [order, dispatch] = useReducer(reducer, [])\n\nReact.useLayoutEffect(() => {\n  const ws = new WebSocket(\"wss://api.bitfinex.com/ws\")\n\n  ws.onopen = function () {\n    ws.send(\n      JSON.stringify({\n        event: \"subscribe\",\n        channel: \"trades\",\n        pair: \"tBTCUSD\"\n      })\n    )\n  }\n\n  ws.onmessage = function (msg) {\n    var response = JSON.parse(msg.data)\n    var isAnOrder = response[1] === \"tu\"\n\n    if (isAnOrder) {\n      const time = moment().format(\"hh:mm:ss\")\n      const price = response[5].toFixed(0)\n      const amount = response[6].toFixed(5)\n      const order = { time, price, amount }\n      dispatch({ type: \"ADD_ORDER\", payload: order })\n    }\n    \n  }\n}, [])\n\nfunction reducer(state, action) {\n\n  return [...state, action.payload]\n\n}\n\nfunction App() {\n  \n  return (\n\n\n<div className=\"order-alert-box\">\n\n<div className=\"orderbook\">\n  <h4 className=\"titling\"> Bitfinex BTC order book</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Time </th>\n        <th>Price</th>\n        <th>Amount</th>\n      </tr>\n    </thead>\n    <tbody>\n      {order.map(({ time, price, amount }, i) => (\n        <tr  key={i}>\n          <td> {time} </td><td>{price}</td><td>{amount}</td>\n          \n        </tr>\n      ))}\n    </tbody>\n  </table>\n</div>\n</div>\n\n);\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}