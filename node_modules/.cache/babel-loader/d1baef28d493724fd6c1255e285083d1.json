{"ast":null,"code":"import _slicedToArray from \"/Users/tom/Desktop/react-position-sizer/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tom/Desktop/react-position-sizer/src/App.js\";\nimport './App.css';\nimport React, { useReducer, useEffect, useState } from 'react';\nimport moment from \"moment\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_ORDER\":\n      return [...state, action.payload];\n\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  // const addPosition = () => {\n  //   ref={inputRef}  \n  // const risk = input.value;\n  // const confidence = confidenceInput.current;\n  // const confi = confidence.value;\n  // pSize = risk * confidence\n  const _useReducer = useReducer(reducer, []),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        order = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  useEffect(() => {\n    const ws = new WebSocket(\"wss://api.bitfinex.com/ws\");\n\n    ws.onopen = function () {\n      ws.send(JSON.stringify({\n        event: \"subscribe\",\n        channel: \"trades\",\n        pair: \"tBTCUSD\"\n      }));\n    };\n\n    ws.onmessage = function (msg) {\n      var response = JSON.parse(msg.data);\n      var isAnOrder = response[1] === \"tu\";\n\n      if (isAnOrder) {\n        const time = moment().format(\"hh:mm:ss\");\n        const price = response[5].toFixed(0);\n        const amount = response[6].toFixed(5);\n        const order = {\n          time,\n          price,\n          amount\n        };\n        dispatch({\n          type: \"ADD_ORDER\",\n          payload: order\n        });\n      }\n    };\n  }, []); // code for position slider :\n\n  let risk = 1;\n  let size = 1;\n\n  const _useState = useState(risk * size),\n        _useState2 = _slicedToArray(_useState, 2),\n        position = _useState2[0],\n        setPosition = _useState2[1];\n\n  return React.createElement(\"div\", {\n    className: \"order-alert-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"position-sizer-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"titling\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Position Sizer\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"account balance:\"), React.createElement(\"input\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"slidecontainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Risk to reward 1:\", React.createElement(\"strong\", {\n    id: \"demo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"range\",\n    min: \"1\",\n    max: \"10\",\n    value: position,\n    className: \"slider\",\n    id: \"myRange\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"slidecontainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"confidence / volume\", React.createElement(\"strong\", {\n    id: \"demothree\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), \"%\"), React.createElement(\"input\", {\n    type: \"range\",\n    min: \"1\",\n    max: \"100\",\n    value: \"3\",\n    className: \"slidertwo\",\n    id: \"myRangethree\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"add-btn\",\n    onClick: addPosition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Add\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Position size:\"), React.createElement(\"span\", {\n    onChange: () => setPosition(risk * size),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, result))), React.createElement(\"div\", {\n    className: \"orderbook\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"titling\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \" Bitfinex BTC order book\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Time \"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Amount\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, order.map(({\n    time,\n    price,\n    amount\n  }, i) => React.createElement(\"tr\", {\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \" \", time, \" \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, price), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, amount)))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tom/Desktop/react-position-sizer/src/App.js"],"names":["React","useReducer","useEffect","useState","moment","reducer","state","action","type","payload","App","order","dispatch","ws","WebSocket","onopen","send","JSON","stringify","event","channel","pair","onmessage","msg","response","parse","data","isAnOrder","time","format","price","toFixed","amount","risk","size","position","setPosition","addPosition","result","map","i"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, {useReducer, useEffect, useState} from 'react'\nimport moment from \"moment\"\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_ORDER\":\n      return [...state, action.payload];\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n\n  // const addPosition = () => {\n\n  //   ref={inputRef}  \n// const risk = input.value;\n// const confidence = confidenceInput.current;\n// const confi = confidence.value;\n// pSize = risk * confidence\n\n\n\n  const [order, dispatch] = useReducer(reducer, [])\n\n  useEffect(() => {\n  const ws = new WebSocket(\"wss://api.bitfinex.com/ws\")\n\n  ws.onopen = function () {\n    ws.send(\n      JSON.stringify({\n        event: \"subscribe\",\n        channel: \"trades\",\n        pair: \"tBTCUSD\"\n      })\n    )\n  }\n\n  ws.onmessage = function (msg) {\n    var response = JSON.parse(msg.data)\n    var isAnOrder = response[1] === \"tu\"\n\n    if (isAnOrder) {\n      const time = moment().format(\"hh:mm:ss\")\n      const price = response[5].toFixed(0)\n      const amount = response[6].toFixed(5)\n      const order = { time, price, amount }\n      dispatch({ type: \"ADD_ORDER\", payload: order })\n    }\n    \n  }\n}, [])\n\n\n// code for position slider :\n\nlet risk = 1 ;\nlet size = 1;\n\nconst [position, setPosition] = useState(risk * size);\n\n  return (\n\n\n<div className=\"order-alert-box\">\n\n{/* Posotion Sizer */}\n\n<div className=\"position-sizer-box\">\n<h4 className=\"titling\">Position Sizer</h4>\n\n<div><p>account balance:</p> \n<input/>\n</div>\n\n<div className=\"slidecontainer\">\n<p>Risk to reward 1:<strong id=\"demo\"></strong></p>\n<input type=\"range\" min=\"1\" max=\"10\" value={position} className=\"slider\" id=\"myRange\"/>\n</div>\n\n<div className=\"slidecontainer\">\n<p>confidence / volume<strong id=\"demothree\"></strong>%</p>\n<input type=\"range\" min=\"1\" max=\"100\" value=\"3\" className=\"slidertwo\" id=\"myRangethree\"/>\n</div>\n\n<button className=\"add-btn\" onClick={addPosition}>Add</button>\n\n<div><p>Position size:</p><span onChange={() => setPosition(risk * size)}>{result}</span></div>\n\n</div>\n\n{/* POSITION SIZER END*/}\n\n\n{/* ORDERBOOK  */}\n<div className=\"orderbook\">\n  <h4 className=\"titling\"> Bitfinex BTC order book</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Time </th>\n        <th>Price</th>\n        <th>Amount</th>\n      </tr>\n    </thead>\n    <tbody>\n      {order.map(({ time, price, amount }, i) => (\n        <tr  key={i}>\n          <td> {time} </td><td>{price}</td><td>{amount}</td>\n          \n        </tr>\n      ))}\n    </tbody>\n  </table>\n</div>\n{/* ORDERBOOK ENDS  */}\n</div>\n\n);\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}